[supervisord]
nodaemon=true
user=appuser
logfile=/app/logs/supervisord.log
pidfile=/tmp/supervisord.pid

[program:backend]
command=node src/index.js
directory=/app
autostart=true
autorestart=true
stderr_logfile=/app/logs/backend.err.log
stdout_logfile=/app/logs/backend.out.log
user=appuser
environment=NODE_ENV="production"

[program:aria2]
command=aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all --dir=/app/downloads --daemon=false --rpc-secret=%(ENV_ARIA2_SECRET)s
autostart=true
autorestart=true
stderr_logfile=/app/logs/aria2.err.log
stdout_logfile=/app/logs/aria2.out.log
user=appuser

[program:qbittorrent]
command=qbittorrent-nox --webui-port=8080
autostart=true
autorestart=true
stderr_logfile=/app/logs/qbittorrent.err.log
stdout_logfile=/app/logs/qbittorrent.out.log
user=appuser

[program:jdownloader]
command=java -jar /app/JDownloader.jar -norestart
directory=/app
autostart=true
autorestart=true
stderr_logfile=/app/logs/jdownloader.err.log
stdout_logfile=/app/logs/jdownloader.out.log
user=appuser