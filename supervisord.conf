[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
pidfile=/tmp/supervisord.pid

[program:init]
command=/app/init-services.sh
directory=/app
autostart=true
autorestart=false
startsecs=0
priority=1
stderr_logfile=/app/logs/init.err.log
stdout_logfile=/app/logs/init.out.log

[program:backend]
command=node src/index.js
directory=/app
autostart=true
autorestart=true
stderr_logfile=/app/logs/backend.err.log
stdout_logfile=/app/logs/backend.out.log
environment=NODE_ENV="production"

[program:aria2]
command=aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all --dir=/app/downloads --daemon=false --rpc-secret=%(ENV_ARIA2_SECRET)s
directory=/app
autostart=true
autorestart=true
stderr_logfile=/app/logs/aria2.err.log
stdout_logfile=/app/logs/aria2.out.log

[program:qbittorrent]
command=qbittorrent-nox --webui-port=8080
directory=/app
autostart=true
autorestart=true
stderr_logfile=/app/logs/qbittorrent.err.log
stdout_logfile=/app/logs/qbittorrent.out.log

[program:jdownloader]
command=java -jar JDownloader.jar -norestart
directory=/app
autostart=true
autorestart=true
stderr_logfile=/app/logs/jdownloader.err.log
stdout_logfile=/app/logs/jdownloader.out.log